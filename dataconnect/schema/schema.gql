enum DeploymentStatus {
  UNDEPLOYED
  DEPLOYING
  DEPLOYED
  FAILED
}

enum PurchaseStatus {
  PENDING
  COMPLETED
  FAILED
  REFUNDED
}

enum TaskStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  FAILED
}

enum RequestStatus {
  PENDING
  APPROVED
  REJECTED
}

enum GoalStatus {
  PENDING
  ACTIVE
  COMPLETED
  ARCHIVED
}

type User @table {
  id: UUID! @default(expr: "uuidV4()")
  email: String! @unique
  displayName: String
  photoUrl: String
  bio: String
  isSeller: Boolean! @default(value: false)
  createdAt: Timestamp! @default(expr: "request.time")
}

type AiEmployee @table {
  id: UUID! @default(expr: "uuidV4()")
  name: String!
  description: String
  price: Float!
  category: String
  capabilities: [String]
  deploymentCost: Float
  monthlyCost: Float
  isPremium: Boolean @default(value: false)
  model: String
  personality: String
  trainingData: [String]
  apiEndpoints: Any
  deploymentStatus: DeploymentStatus @default(value: "UNDEPLOYED")
  createdAt: Timestamp! @default(expr: "request.time")
  updatedAt: Timestamp! @default(expr: "request.time")
  user: User!
}

type Purchase @table {
  id: UUID! @default(expr: "uuidV4()")
  purchaseDate: Timestamp! @default(expr: "request.time")
  quantity: Int! @default(value: 1)
  totalPrice: Float!
  status: PurchaseStatus! @default(value: "PENDING")
  aiEmployee: AiEmployee!
  user: User!
}

type Review @table {
  id: UUID! @default(expr: "uuidV4()")
  rating: Int!
  comment: String
  createdAt: Timestamp! @default(expr: "request.time")
  aiEmployee: AiEmployee!
  user: User!
}

type Skill @table {
  id: UUID! @default(expr: "uuidV4()")
  name: String! @unique
  description: String
  category: String
}

type AiEmployeeSkill @table(key: ["aiEmployee", "skill"]) {
  enabled: Boolean @default(value: true)
  aiEmployee: AiEmployee!
  skill: Skill!
}

type Task @table {
  id: UUID! @default(expr: "uuidV4()")
  description: String!
  status: TaskStatus @default(value: "PENDING")
  dueDate: Timestamp
  createdAt: Timestamp! @default(expr: "request.time")
  user: User!
}

type AgentTask @table {
  id: UUID! @default(expr: "uuidV4()")
  prompt: String!
  status: TaskStatus @default(value: "PENDING")
  result: String
  createdAt: Timestamp! @default(expr: "request.time")
  updatedAt: Timestamp! @default(expr: "request.time")
}

type DeploymentRequest @table {
  id: UUID! @default(expr: "uuidV4()")
  status: RequestStatus! @default(value: "PENDING")
  requestDate: Timestamp! @default(expr: "request.time")
  aiEmployee: AiEmployee!
  user: User!
}

type BusinessGoal @table {
  id: UUID! @default(expr: "uuidV4()")
  goalName: String
  title: String
  description: String
  targetValue: Float
  currentValue: Float
  unit: String
  goalType: String
  status: GoalStatus! @default(value: "PENDING")
  assignedEmployees: [String]
  progressHistory: Any
  createdAt: Timestamp! @default(expr: "request.time")
  updatedAt: Timestamp! @default(expr: "request.time")
  user: User!
}

type SharedKnowledge @table {
  id: UUID! @default(expr: "uuidV4()")
  knowledgeType: String
  title: String
  content: String!
  sourceEmployee: AiEmployee
  relevanceTags: [String]
  confidenceScore: Float
  isVerified: Boolean @default(value: false)
  createdAt: Timestamp! @default(expr: "request.time")
  metadata: Any
  user: User!
}
