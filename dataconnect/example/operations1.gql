mutation CreateUser @auth(level: USER) {
  user_insert(data: {displayName: "New User", email: "newuser@example.com"}) {
    id
    email
    displayName
  }
}

query ListSkills @auth(level: PUBLIC, insecureReason: "This operation is safe to expose to the public") {
  skills {
    id
    name
    description
    category
  }
}

mutation AssignSkillToAiEmployee($aiEmployeeId: ID!, $skillId: ID!) @auth(level: USER) {
  aiEmployeeSkill_insert(data: {aiEmployeeId: $aiEmployeeId, skillId: $skillId}) {
    id
    enabled
  }
}

query ListTasksForUser($userId: ID!) @auth(level: USER) {
  tasks(where: {userId: {eq: $userId}}) {
    id
    description
    status
    dueDate
  }
}

# Agent Automation Operations

mutation CreateAgentTask($prompt: String!) @auth(level: USER) {
  agentTask_insert(data: {prompt: $prompt, status: "PENDING"}) {
    id
    prompt
    status
    createdAt
  }
}

query ListAgentTasks @auth(level: USER) {
  agentTasks {
    id
    prompt
    status
    result
    createdAt
    updatedAt
  }
}
